
# 
# 클릭하세요 리눅스 쉘 스크립트 프로그래밍
#
##### 개인구매도서(용산 강컴)
##### 
##### 알고 있는 내용이나, 너무 복잡한 것, 그리고, 중요하지 않은 내용은 정리하지 않음
#####
#####

# 1. 기본편

## 1.1 리눅스와 쉘 

### /etc/passwd 파일에 각 계정의 로그인 기본 쉘이 지정되어 있다.

```
colaman@vm-dev-00:~$ cat /etc/passwd | grep colaman
colaman:x:1000:1000:colaman,,,:/home/colaman:/bin/bash
colaman@vm-dev-00:~$ 
```

### vi

```
set nu
set nonu
set ts=4
```

### 1.2 리눅스 명령어 익히기
#### awk

##### $0 은 전체 필드이다.

```
colaman@vm-dev-00:~/WORKS/APPS$ head -5 ./CARD_SUBWAY_MONTH_202312.csv | awk '{print $0}'
"사용일자","노선명","역명","승차총승객수","하차총승객수","등록일자"
"20231201","2호선","대림(구로구청)","25995","26770","20231204",""
"20231201","2호선","신도림","55447","55057","20231204",""
"20231201","2호선","문래","25818","26561","20231204",""
"20231201","2호선","영등포구청","24517","25006","20231204",""
colaman@vm-dev-00:~/WORKS/APPS$ 
```

##### FS 의 기본값은 space, tab 이지만, 필드 구분자 변경시 -F 옵션 사용한다
```
colaman@vm-dev-00:~/WORKS/APPS$ head -5 ./CARD_SUBWAY_MONTH_202312.csv | awk -F',' '{print $1, $4}'
"사용일자" "승차총승객수"
"20231201" "25995"
"20231201" "55447"
"20231201" "25818"
"20231201" "24517"
colaman@vm-dev-00:~/WORKS/APPS$ 
```


# 2. 입문편
## 2.1 bash shell 들어가기

### echo

### 변수를 만들고 사용하기
```
변수명 다음에 오는 '=' 의 좌우로 공백이 있으면 안된다.
```

### 크기비교
|구분|의미|
|-----|-----|
| [$A -gt  $B] | A > B |
| [$A -lt  $B] | A < B |
| [$A -ge  $B] | A >= B |
| [$A -le  $B] | A <= B |
| [$A -eq  $B] | A == B |
| [$A -ne  $B] | A != B |


**"[" 다음과 "]" 앞에 공백 1개를 넣어야 한다.**

#### 소스
```
#!/bin/bash

export var_a=$1
export var_b=$2

echo "[var_a]:"$var_a
echo "[var_b]:"$var_b

if [ $var_a -eq $var_b ]
then
    echo "var_a == var_b"
elif [ $var_a -ne $var_b ]
then
    echo "var_a != var_b"
fi

if [ $var_a -gt $var_b ] 
then
    echo "var_a > var_b"
elif [ $var_a -lt $var_b ]
then
    echo "var_a < var_b"
elif [ $var_a -eq $var_b ]
then
    echo "var_a == var_b"
fi

colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ 
```

#### 실행결과
```
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ ./run_094.sh 1 2
[var_a]:1
[var_b]:2
var_a != var_b
var_a < var_b
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ ./run_094.sh 2 1
[var_a]:2
[var_b]:1
var_a != var_b
var_a > var_b
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ ./run_094.sh 3 3
[var_a]:3
[var_b]:3
var_a == var_b
var_a == var_b
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ cat ./run_094.sh 
```


### 문자열 비교

**"[" 다음과 "]" 앞에 공백 1개를 넣어야 한다.**


|구분|의미|
|-----|-----|
| [ "STR1" = "STR2" ] | str1 == str2 |
| [ "STR1" != "STR2" ] | str1 1= str2 |
| [ -z "STR" ] | 문자열의 길이가 0 인 경우 |
| [ -n "STR" ] | 문자열의 길이가 0 이 아닌경우 |

#### 소스
```
#!/bin/bash

colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ cat ./run_098.sh 
#!/bin/bash

if [ H$1 = 'Hyes' ]
then
    echo "argument is yes"
else
    echo "argument is not yes"
fi

```
#### $1 과 yes 앞에 H 라는 임의의 문자를 붙이고 있다. 
#### 만약 임의의 문자를 첨가하지 않으면, argument 값을 넣지 않을 경우 에러가 난다.
#### 이를 방지하기 위해 임의의 문자를 붙인다.
####
#### 실행결과
```
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ ./run_098.sh yes
argument is yes
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ ./run_098.sh no
argument is not yes
colaman@vm-dev-00:~/WORKS/APPS$ 
colaman@vm-dev-00:~/WORKS/APPS$ ./run_098.sh
argument is not yes
colaman@vm-dev-00:~/WORKS/APPS$ 
```


#### page 98 까지 정리함
